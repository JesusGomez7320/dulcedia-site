<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dulce Día Cine | Cinematic Wedding Films – Southern California</title>
  <meta name="description" content="From Hollywood sets to wedding vows — cinematic wedding films across Southern California. Documentary approach, organic feel, editorial polish." />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!-- Preconnect to YouTube -->
  <link rel="preconnect" href="https://www.youtube-nocookie.com">
  <link rel="preconnect" href="https://i.ytimg.com">

  <!-- Preload ring cursor SVG -->
  <link rel="preload" as="image" href="/assets/ring.svg">

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">

  <style>
    @font-face { font-family:"BrandSerif"; src:url("/fonts/BrandSerif.woff2") format("woff2"); font-weight:400 700; font-display:swap; }
    @font-face { font-family:"BrandSans";  src:url("/fonts/BrandSans.woff2")  format("woff2"); font-weight:300 800; font-display:swap; }

    :root{
      --bg:#F7F6F2; --ink:#0E0F12; --muted:#666B74; --line:#E8E6E0; --accent:#C9BBA6;
      --max:1160px; --r:18px; --shadow:0 20px 40px rgba(0,0,0,.08);
      --dur:650ms; --ease:cubic-bezier(.21,.65,.21,1);
      --dark:#161616; --dark-ink:#F2EFEA; --dark-sub:#C9C5BD; --dark-line:#2A2A2A;
      --cursor-size:28px;
      --cursor-link-size:32px;
      --cursor-link-pad:6px;
      --glass-min:.22; --glass-max:.55;
    }

    *{box-sizing:border-box}
    html,body{margin:0}
    html{scroll-behavior:smooth}
    body{
      background:var(--bg);
      color:var(--ink);
      font:16px/1.75 BrandSans, Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      text-rendering:optimizeLegibility; overflow-x:hidden;
      cursor:none;
    }
    a, button, .btn, [role="button"], input, textarea, select { cursor:none }

    a{color:inherit;text-decoration:none}
    .wrap{max-width:var(--max);margin:0 auto;padding:0 22px}

    .serif{font-family: Playfair Display, BrandSerif, Georgia, "Times New Roman", Times, serif}
    h1,h2,h3{letter-spacing:.12em;text-transform:uppercase;font-family: Playfair Display, BrandSerif, Georgia, serif}
    p{margin:0 0 16px}
    .prose{max-width:760px;margin:0 auto 16px}
    .sub{color:var(--muted)}
    .rule{height:1px;background:var(--line);width:120px;margin:18px 0}

    .bg-video{
      position:fixed; inset:0; width:100%; height:100%;
      object-fit:cover; pointer-events:none; z-index:0;
      filter:brightness(.52) contrast(1.06) saturate(1.04);
      transform:translate3d(0,0,0);
    }

    header{
      position:fixed; top:0; left:0; right:0; z-index:60;
      display:flex; align-items:center; justify-content:space-between;
      height:72px; padding:0 16px;
      background:transparent; color:#fff;
      transition:color .25s ease, background .25s ease, border-color .25s ease;
    }
    header.is-solid{ color:var(--ink); }
    @media (max-width:820px){
      header.is-solid{
        background:rgba(247,246,242,.9);
        backdrop-filter:blur(10px);
        border-bottom:1px solid var(--line);
      }
    }
    .brand-logo{display:inline-flex;align-items:center;gap:10px;height:52px}
    .brand-logo .logo-inline{display:block;height:40px;width:auto;color:currentColor}
    .brand-logo img{height:40px;width:auto;display:block}

    .nav-links{display:flex;align-items:center;gap:18px}
    .nav-links a{margin:0;font-size:13px;letter-spacing:.12em;text-transform:uppercase}

    .menu-btn{display:none;background:none;border:none;padding:10px;cursor:none;color:currentColor}
    .menu-btn .bar{width:22px;height:2px;background:currentColor;display:block;margin:4px 0}
    @media (max-width:820px){
      .menu-btn{display:inline-block}
      .nav-links{
        display:none;position:absolute;top:72px;left:12px;right:12px;
        flex-direction:column;gap:10px;padding:14px;
        background:rgba(250, 248, 244, .92);backdrop-filter:blur(12px);
        border:1px solid var(--line);border-radius:14px;
      }
      header.is-solid .nav-links{background:rgba(250,248,244,.96)}
      .nav-links.open{display:flex}
    }

    .hero{
      position:relative; min-height:100vh;
      display:grid; place-items:center;
      color:#fff; text-align:center; overflow:hidden;
      background:transparent; isolation:isolate; z-index:1;
      padding-top:72px;
    }
    .hero::before{
      content:""; position:absolute; inset:0; z-index:0;
      background: radial-gradient(ellipse at 50% 40%, rgba(0,0,0,.18), rgba(0,0,0,.46) 58%, rgba(0,0,0,.55) 100%);
      pointer-events:none;
    }
    .hero .wrap{position:relative;z-index:1}
    .hero h1{
      font-size:clamp(36px, 6.8vw, 80px);
      line-height:1.06;
      font-weight:600;
      text-shadow:0 4px 22px rgba(0,0,0,.42), 0 1px 0 rgba(0,0,0,.35);
    }
    .hero .sub{color:rgba(255,255,255,.92)}
    .hero .rule{background:rgba(255,255,255,.55);margin:14px auto 0}

    .section{padding:72px 0;scroll-margin-top:80px;background:var(--bg); position:relative; z-index:1}
    @media (max-width:560px){ .section{padding:56px 0} }

    #about.section{ padding:64px 0; }
    #about .about-layout{
      display:grid; grid-template-columns:minmax(280px,480px) 1fr;
      gap:28px; align-items:start;
    }
    #about .about-media{
      position:relative; border-radius:14px; overflow:hidden;
      box-shadow:var(--shadow); background:#000; border:1px solid var(--line);
      aspect-ratio:4/5;
    }
    #about .about-media video, #about .about-media img{ width:100%; height:100%; object-fit:cover; display:block; }
    #about .about-media video{ opacity:0; transition:opacity .6s ease .05s, filter .2s ease; }
    #about .about-media video.is-visible{ opacity:1; }
    #about .about-media video.paused{ filter:brightness(.85); }
    #about .about-copy{ text-align:left; }
    #about .about-copy p{ font-size:17px; line-height:1.75; margin:0 0 12px; }
    @media (max-width:900px){
      #about .about-layout{ grid-template-columns:1fr; }
      #about.section{ padding:44px 0; }
      #about .rule{ width:96px; margin:10px 0 14px; }
      #about .about-copy p{ font-size:15px; line-height:1.65; }
    }

    .grid{display:grid;gap:22px}
    .grid-3{grid-template-columns:repeat(3,1fr)}
    @media (max-width:980px){ .grid-3{grid-template-columns:1fr} }

    .pkgs{display:grid;grid-template-columns:repeat(3,1fr);gap:22px}
    @media (max-width:980px){.pkgs{grid-template-columns:1fr}}
    .pkg{background:#fff;border:1px solid var(--line);border-radius:var(--r);box-shadow:var(--shadow);padding:28px}
    .price{font-weight:800;margin:10px 0 16px;font-size:22px}
    .eyebrow{font-size:12px;letter-spacing:.28em;color:var(--muted);margin-bottom:8px}
    .kicker{font-variant-caps:all-small-caps;letter-spacing:.18em;color:var(--ink);margin:0 0 10px}

    .btn{display:inline-block;border:1px solid var(--ink);padding:10px 14px;border-radius:12px}
    .btn:hover{background:var(--ink);color:#fff}
    .sr-only{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}

    .reveal{will-change:transform,opacity;transition:opacity var(--dur) var(--ease),transform var(--dur) var(--ease)}
    .reveal{opacity:1;transform:none}
    @media (scripting:enabled){ .reveal.js-init{opacity:0;transform:translateY(14px)} .reveal.js-init.is-revealed{opacity:1;transform:none} }
    @media (prefers-reduced-motion:reduce){ .reveal{transition:opacity 120ms linear} .reveal.js-init{transform:none} }

    footer{border-top:1px solid var(--line);padding:28px 0;background:#fff; z-index:1; position:relative;}

    .section.dark{background:var(--dark);color:var(--dark-ink);border-top:1px solid var(--dark-line);border-bottom:1px solid var(--dark-line)}
    .section.dark .sub,.section.dark .eyebrow{color:var(--dark-sub)}
    .section.dark .rule{background:var(--dark-line)}
    .testimonial{display:grid;grid-template-columns:1.1fr 1.4fr;gap:36px;align-items:start}
    @media (max-width:980px){.testimonial{grid-template-columns:1fr}}
    .t-media{position:relative;border-radius:12px;overflow:hidden;background:#000;box-shadow:var(--shadow)}
    .t-copy .eyebrow{font-size:12px;letter-spacing:.28em;color:var(--dark-sub);margin-bottom:8px}
    .t-copy blockquote{margin:0 0 14px;font-size:clamp(18px,2.1vw,24px);line-height:1.5;font-family:Playfair Display,BrandSerif,Georgia,serif}
    .t-copy .body{color:var(--dark-sub)}
    .ratio-16x9{aspect-ratio:16/9}
    .ratio-4x5{aspect-ratio:4/5}
    .ratio-9x16{aspect-ratio:9/16}

    #folio{ padding-top:28px; padding-bottom:72px; }
    #folio .folio-head{ text-align:center; position:relative; margin-bottom:6px; }
    #folio .folio-title{
      display:inline-block; letter-spacing:.20em; text-transform:uppercase;
      font-size:clamp(22px,3.2vw,36px); line-height:1.1; margin:0; color:var(--ink); translate:0 -8px;
      font-family: Playfair Display, BrandSerif, Georgia, serif;
    }
    #folio .vp{ position:relative; overflow-x:auto; overflow-y:hidden; scroll-snap-type:x mandatory; -webkit-overflow-scrolling:touch; scroll-behavior:smooth; padding:12px 0 4px 0; }
    #folio .vp::-webkit-scrollbar{ display:none } #folio .vp{ scrollbar-width:none }
    #folio .track{ display:grid; grid-auto-flow:column; grid-auto-columns:clamp(220px, 30vw, 420px); gap:16px; list-style:none; margin:0; padding:0 22px; }
    #folio .slide{ scroll-snap-align:center; transition:transform 260ms ease, filter 260ms ease, z-index 260ms ease, opacity 260ms ease; transform-origin:center; }
    #folio .card{ overflow:hidden; margin:0; border-radius:14px; border:1px solid var(--line); background:#000; aspect-ratio:4/5; }
    #folio .card img{ width:100%; height:100%; object-fit:cover; display:block; transition:transform 260ms ease; }

    .folio-arrow{ position:absolute; top:50%; translate:0 -50%; width:40px; height:40px; border-radius:999px; border:1px solid var(--line); background:transparent; display:grid; place-items:center; cursor:none; transition:background .15s ease, transform .15s ease, border-color .15s ease; z-index:3; }
    .folio-arrow:hover{ background:rgba(0,0,0,.03); transform:translateY(-50%) scale(1.03); border-color:#DCD9D2; }
    .folio-arrow.prev{ left:6px } .folio-arrow.next{ right:6px }
    @media (max-width:560px){ .folio-arrow{ display:none } }

    #experience.bg-photo, #process.bg-photo, #proposals.bg-photo{
      background-position:center 0px; background-size:cover; background-repeat:no-repeat;
      position:relative; isolation:isolate;
    }
    @media (min-width:981px){
      #experience.bg-photo, #process.bg-photo, #proposals.bg-photo{
        background-attachment: fixed;
      }
    }
    #experience.bg-photo::before, #process.bg-photo::before, #proposals.bg-photo::before{
      content:""; position:absolute; inset:0; z-index:0; pointer-events:none;
      background: radial-gradient(ellipse at 50% 40%, rgba(0,0,0,.10), rgba(0,0,0,.38) 58%, rgba(0,0,0,.48) 100%);
    }

    .glass-panel{
      --glassA: var(--glass-max);
      background: rgba(20,20,20,var(--glassA));
      backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);
      border-radius: var(--r); padding: 32px; box-shadow:var(--shadow);
      transition: background 200ms linear;
      position:relative; z-index:1;
    }
    .glass-panel h2, .glass-panel p, .glass-panel h3 { color:#fff }

    .socials{display:flex;gap:16px;align-items:center;justify-content:center;padding:18px;border-top:1px solid var(--line);background:#fff; position:relative; z-index:1}
    .socials a{display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border:1px solid var(--line); border-radius:999px; transition:transform .18s ease, background .18s ease; font-size:14px; line-height:1;}
    .socials a:hover{transform:translateY(-1px);background:#faf9f6}
    .socials a svg{width:18px;height:18px;display:inline-block;flex:none}

    .cursor{
      position:fixed; left:0; top:0; translate:-50% -50%;
      width:var(--cursor-size); height:var(--cursor-size);
      border-radius:999px;
      border:1px solid rgba(0,0,0,.55);
      background:rgba(255,255,255,.75);
      box-shadow:0 8px 18px rgba(0,0,0,.18);
      pointer-events:none; z-index:9999;
      box-sizing:content-box;
      transition:
        width .15s ease,
        height .15s ease,
        background-color .15s ease,
        border-color .15s ease,
        box-shadow .15s ease,
        filter .15s ease,
        background-image .0s ease;
      will-change: transform;
    }
    .cursor.is-hidden{ opacity:0 }

    .cursor.is-link{
      width:var(--cursor-link-size);
      height:var(--cursor-link-size);
      border-radius:0;
      border:none;
      padding:var(--cursor-link-pad);
      background-color:transparent;
      background-image:url('/assets/ring.svg');
      background-repeat:no-repeat;
      background-position:center;
      background-origin:content-box;
      background-clip:content-box;
      background-size:100% 100%;
      box-shadow:none;
      filter:drop-shadow(0 2px 2px rgba(0,0,0,.22));
    }

    @media (pointer:coarse) { body{ cursor:auto } .cursor{ display:none } }

    .embed{ position:relative; width:100%; height:100%; overflow:hidden; background:#000; }
    .embed img.thumb{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; display:block; transition:opacity .18s ease; }
    .embed .playbtn{
      position:absolute; top:50%; left:50%; translate:-50% -50%;
      display:inline-flex; align-items:center; gap:10px;
      padding:10px 14px; border-radius:999px;
      border:1px solid rgba(255,255,255,.75);
      background:rgba(0,0,0,.38);
      color:#fff; letter-spacing:.12em; text-transform:uppercase; font-size:12px;
      cursor:none; z-index:2; transition:transform .15s ease, background .15s ease, border-color .15s ease, opacity .15s ease;
      user-select:none;
    }
    .embed .playbtn:hover{ transform:translate(-50%,-50%) scale(1.03); background:rgba(0,0,0,.48); }
    .embed .playbtn svg{ width:18px; height:18px; }
    .embed[aria-busy="true"] .thumb, .embed[aria-busy="true"] .playbtn { opacity:0; pointer-events:none; }

    .embed::after{
      content:""; position:absolute; inset:0; background:linear-gradient(120deg, transparent 0%, rgba(255,255,255,.06) 20%, transparent 40%);
      translate:-100% 0; animation:sh 1.2s ease infinite; pointer-events:none; opacity:0;
    }
    .embed[aria-busy="true"]::after{ opacity:1; }
    @keyframes sh{ to{ translate:100% 0 } }

    .yt-16x9{
      position:absolute; left:50%; top:50%;
      translate:-50% -50%;
      width:100%;
      aspect-ratio:16/9;
      transform-origin:center center;
    }
    .ratio-4x5 .yt-16x9{ transform:translate(-50%, -50%) scale(2.222); }
    .yt-16x9 iframe{ position:absolute; inset:0; width:100%; height:100%; border:0; }

    #contact.section{
      background:
        radial-gradient(1200px 800px at 10% -10%, rgba(255,255,255,.65), transparent 60%),
        radial-gradient(1000px 700px at 120% 120%, rgba(201,187,166,.18), transparent 60%),
        var(--bg);
    }
    #contact .contact-shell{
      border:1px solid var(--line);
      border-radius:var(--r);
      background:rgba(255,255,255,.65);
      backdrop-filter: blur(10px);
      box-shadow:var(--shadow);
      padding: clamp(18px, 3vw, 28px);
    }
    #contact .contact-grid{
      display:grid; grid-template-columns:1.1fr 1fr; gap:24px; align-items:start;
    }
    @media (max-width:900px){ #contact .contact-grid{ grid-template-columns:1fr } }
    #contact .contact-copy h3{
      margin:0 0 8px; font-weight:600; letter-spacing:.12em; text-transform:uppercase;
    }
    #contact .contact-points{
      display:grid; gap:10px; margin:14px 0 8px; color:var(--muted);
    }
    #contact .contact-points .row{ display:flex; gap:10px; align-items:flex-start; }
    #contact .chip-row{ display:flex; flex-wrap:wrap; gap:10px; margin-top:10px; }
    #contact .chip{
      display:inline-flex; gap:8px; align-items:center;
      padding:8px 12px; border:1px solid var(--line); border-radius:999px;
      background:#fff; font-size:14px; line-height:1; transition:transform .18s ease, background .18s ease;
      cursor:none;
    }
    #contact .chip:hover{ transform:translateY(-1px); background:#faf9f6; }
    #contact form input, #contact form textarea{
      padding:12px;border:1px solid var(--line);border-radius:12px;background:#fff;width:100%;
    }
    #contact .fineprint{ font-size:13px; color:var(--muted); margin-top:8px; }

    .testimonial-grid{ display:grid; grid-template-columns:1fr; gap:48px; }
    @media (max-width:980px){ .testimonial-grid{ grid-template-columns:1fr; gap:36px; } }
    .testimonial.reverse{ grid-template-columns:1.4fr 1.1fr; }
    @media (max-width:980px){
      .testimonial.reverse{ grid-template-columns:1fr; }
      .testimonial.reverse .t-media{ order:1; }
      .testimonial.reverse .t-copy{ order:2; }
    }

    .packages-extra{
      background:#fff;
      border:1px solid var(--line);
      border-radius:var(--r);
      padding:20px;
      margin-top:22px;
      box-shadow:var(--shadow);
    }
    .packages-extra p{ margin:0 0 12px; }
  </style>
</head>
<body class="no-js">
  <a class="sr-only" href="#main">Skip to content</a>
  <div class="cursor" id="cursor" aria-hidden="true"></div>

  <!-- GLOBAL fixed background hero video -->
  <video class="bg-video" id="heroVideo" playsinline muted autoplay loop preload="auto" poster="/assets/hero-poster.jpg" aria-hidden="true">
    <source src="/assets/hero.webm" type="video/webm" />
    <source src="/assets/hero.mp4"  type="video/mp4" />
  </video>

  <!-- Header -->
  <header id="siteHeader" role="banner">
    <a href="#home" class="brand-logo" aria-label="Dulce Día Cine">
      <img src="/assets/logo_1.png" alt="Dulce Día Cine logo" class="logo-fallback" style="display:none;height:40px" />
    </a>

    <button class="menu-btn" id="menuBtn" aria-expanded="false" aria-controls="navLinks" aria-label="Menu">
      <span class="bar"></span><span class="bar"></span><span class="bar"></span>
    </button>

    <nav id="navLinks" class="nav-links" aria-label="Main navigation">
      <a href="#about">About</a>
      <a href="#folio">Portfolio</a>
      <a href="#experience">Experience</a>
      <a href="#process">Process</a>
      <a href="#packages">Packages</a>
      <a href="#proposals">Proposals &amp; Engagements</a>
      <a href="#contact">Inquire</a>
    </nav>
  </header>

  <main id="main">
    <!-- HERO -->
    <section class="hero" id="home" aria-label="Hero">
      <div class="wrap">
        <h1 class="reveal serif">Capturing Emotions with Cinematic Artistry</h1>
        <div class="rule reveal" aria-hidden="true"></div>
        <p class="sub prose reveal">Documentary approach, organic feel, editorial polish. Serving Southern California &amp; destinations worldwide.</p>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="section" aria-label="About">
      <div class="wrap">
        <h2 class="serif reveal">FROM HOLLYWOOD SETS TO WEDDING VOWS</h2>
        <div class="rule reveal" aria-hidden="true"></div>

        <div class="about-layout">
          <figure class="about-media reveal" aria-label="Behind the scenes clip">
            <video id="aboutVideo" playsinline muted autoplay loop preload="metadata" poster="/assets/tn_2.jpg">
              <source src="/assets/ss_1.webm" type="video/webm" />
              <source src="/assets/ss_1.mp4" type="video/mp4" />
              <img src="/assets/tn_2.jpg" alt="Cinematic behind-the-scenes" />
            </video>
          </figure>

          <div class="about-copy">
            <p class="reveal">
              Filming love is more than capturing a wedding — it’s preserving the heartbeat of your story. Every glance, every laugh, every unspoken moment becomes part of a cinematic narrative that reflects the beauty and emotion of one of life’s most cherished days. After graduating from film school in Los Angeles, I spent eight years in the film industry mastering the art of mood, movement, and sound — turning fleeting moments into scenes that feel timeless.
            </p>
            <p class="reveal">
              Now back in my hometown of San Clemente, I bring that Hollywood-crafted eye to weddings across Southern California. I take time to know each couple, your vision, and the atmosphere you want to create — whether it’s an elegant celebration beneath glowing string lights or an intimate elopement on the coast. Your story is one of a kind, and your film should be too — a keepsake that lets you relive the joy, love, and magic of your day, again and again.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- PORTFOLIO STILLS -->
    <section id="folio" class="section" aria-label="Portfolio Stills">
      <div class="wrap" style="position:relative">
        <div class="folio-head">
          <h2 class="folio-title serif">Portfolio Stills</h2>
        </div>

        <button class="folio-arrow prev" id="folioPrev" aria-label="Scroll left">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M15 6l-6 6 6 6"/>
          </svg>
        </button>
        <button class="folio-arrow next" id="folioNext" aria-label="Scroll right">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M9 6l6 6-6 6"/>
          </svg>
        </button>

        <div class="vp" id="folioVP" tabindex="0" aria-roledescription="carousel" aria-label="Portfolio stills">
          <!-- Track is now empty; JS will auto-discover and randomize images -->
          <ul class="track" id="folioTrack"></ul>
        </div>
      </div>
    </section>

    <!-- EXPERIENCE (parallax) -->
    <section id="experience" class="section bg-photo" aria-label="Experience" data-parallax data-speed="0.22" style="background-image:url('/assets/bg_1.jpg');">
      <div class="wrap glass-panel" data-glass>
        <h2 class="serif reveal">A LOVE STORY IN MOTION: THE EXPERIENCE</h2>
        <div class="rule reveal" aria-hidden="true"></div>
        <div class="grid grid-3">
          <div class="reveal"><p>Your wedding day is one of the most meaningful stories you’ll ever live — and I’m here to help you relive it, beautifully.</p></div>
          <div class="reveal"><p>From our first conversation to the final delivery, I work closely with you to bring your vision to life. I focus on the details, capture the in-between moments, and craft a film that feels like you.</p></div>
          <div class="reveal"><p>My goal is simple: to go above and beyond so your wedding is remembered not just clearly — but emotionally.</p></div>
        </div>
      </div>
    </section>

    <!-- FEATURE (16:9) -->
    <section class="section dark" id="testimonial-intro" aria-label="Feature Film">
      <div class="wrap testimonial">
        <div class="t-media ratio-16x9 reveal">
          <div
            class="embed"
            data-provider="youtube"
            data-id="27SfI9TruCw"
            data-aspect="16x9"
            role="button" aria-label="Play Feature video (16:9)" tabindex="0">
            <img class="thumb" src="/assets/tn_1.jpg" alt="Play Feature video" />
            <div class="playbtn" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round">
                <polygon points="9,7 19,12 9,17" fill="currentColor"></polygon>
              </svg>
              <span>Play</span>
            </div>
          </div>
        </div>
        <div class="t-copy">
          <div class="eyebrow serif reveal">Feature</div>
          <h2 class="serif reveal">Make It a Dulce Día</h2>
          <blockquote class="reveal">What We Do</blockquote>
          <p class="body reveal">We’re wedding filmmakers who turn real moments into refined, cinematic stories. In this trailer, you’ll see our approach: honest coverage, subtle direction, and thoughtful editing that preserves the day you actually lived. The result is a film that feels timeless, textured, and true.</p>
        </div>
      </div>
    </section>

    <!-- PROCESS (parallax) -->
    <section id="process" class="section bg-photo" aria-label="Process" data-parallax data-speed="0.20" style="background-image:url('/assets/bg_2.jpg');">
      <div class="wrap glass-panel" data-glass>
        <h2 class="serif reveal">THE PROCESS</h2>
        <div class="rule reveal" aria-hidden="true"></div>
        <div class="grid grid-3">
          <div class="step reveal">
            <div class="eyebrow">UNO</div>
            <h3 class="serif kicker" style="color:#fff">REACH OUT</h3>
            <p>It all starts with a message — and from there, it’s more than planning. It’s a collaboration. I take time to get to know you, your vibe, and what makes your relationship yours.</p>
          </div>
          <div class="step reveal">
            <div class="eyebrow">DOS</div>
            <h3 class="serif kicker" style="color:#fff">CONFIRMATION</h3>
            <p>We’ll walk through your options together, talk vision, and choose the collection that fits your day. A couple months out, a quick questionnaire locks in timeline, locations, and priorities. We’ll hop on a call to dial everything in.</p>
          </div>
          <div class="step reveal">
            <div class="eyebrow">TRES</div>
            <h3 class="serif kicker" style="color:#fff">FINAL SEND-OFF</h3>
            <p>On the day, I arrive early and capture everything smoothly and naturally. I back up footage immediately. A teaser lands within the first week; your final film is delivered within ten weeks via easy streaming and downloads.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- WEDDING PACKAGES -->
    <section id="packages" class="section" aria-label="Packages">
      <div class="wrap">
        <h2 class="serif reveal">WEDDING PACKAGES</h2>
        <div class="rule reveal" aria-hidden="true"></div>
        <div class="pkgs">
          <article class="pkg reveal">
            <h3 class="serif">DULCE INICIO (SWEET BEGINNING)</h3>
            <p class="price">$1,900</p>
            <ul>
              <li>6 Hours of Coverage</li>
              <li>1 Videographer</li>
              <li>1–3 min Highlight Reel Video</li>
              <li>Vertical version of the highlight reel (under 1 min)</li>
            </ul>
            <p class="sub" style="margin-top:10px"><em>Add a dedicated photographer for $800. Please reach out for details.</em></p>
          </article>
          <article class="pkg reveal">
            <h3 class="serif">DULCE RECUERDO (SWEET MEMORY)</h3>
            <p class="price">$2,700</p>
            <ul>
              <li>8 Hours of Coverage</li>
              <li>Two Videographers</li>
              <li>4–6 min Highlight Video</li>
              <li>1 Shortform Vertical Highlight Reel</li>
              <li>Drone Coverage</li>
            </ul>
            <p class="sub" style="margin-top:10px"><em>Add a dedicated photographer for $1,000. Please reach out for details.</em></p>
          </article>
          <article class="pkg reveal">
            <h3 class="serif">DULCE ETERNIDAD (SWEET ETERNITY)</h3>
            <p class="price">$3,500</p>
            <ul>
              <li>All-Day Coverage</li>
              <li>Two Videographers</li>
              <li>Highlight Video</li>
              <li>Documentary Edit</li>
              <li>3 Shortform Vertical Highlight Reels</li>
              <li>Drone Coverage</li>
            </ul>
            <p class="sub" style="margin-top:10px"><em>Add a dedicated photographer for $1,200. Please reach out for details.</em></p>
          </article>
        </div>
        <div class="packages-extra reveal">
          <p><strong>Limited time promotion:</strong> Be among the first five couples to book through this current promotion and receive an extra session or a free upgrade to your package. We'll find a creative way to honour an extra session if you're outside LA County, San Diego County, or Orange County. <em>Disclaimer: This promotion cannot be used to waive travel fees.</em></p>
          <p><strong>Customize your experience:</strong> These packages are prebuilt. Feel free to contact us to modify any package or build a custom one. Travel outside LA County, San Diego County and Orange County may include a travel fee.</p>
        </div>
      </div>
    </section>

    <!-- TESTIMONIALS -->
    <section id="testimonials" class="section dark" aria-label="Testimonials">
      <div class="wrap">
        <h2 class="serif reveal">TESTIMONIALS</h2>
        <div class="rule reveal" aria-hidden="true"></div>

        <div class="testimonial-grid">
          <div class="testimonial">
            <div class="t-media ratio-9x16 reveal" aria-label="Meet Pags &amp; Gunner">
              <div
                class="embed"
                data-provider="youtube"
                data-id="aBauHVpOA3A"
                data-aspect="9x16"
                role="button" aria-label="Play Testimonial video (9:16)" tabindex="0">
                <img class="thumb" src="/assets/tn_2.jpg" alt="Play Testimonial video" />
                <div class="playbtn" aria-hidden="true">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round">
                    <polygon points="9,7 19,12 9,17" fill="currentColor"></polygon>
                  </svg>
                  <span>Play</span>
                </div>
              </div>
            </div>
            <div class="t-copy">
              <div class="eyebrow serif reveal">Client Story</div>
              <h3 class="serif reveal">Meet Pags &amp; Gunner</h3>
              <blockquote class="reveal">A playful, heartfelt chapter in our continuing series of real love stories.</blockquote>
              <p class="body reveal">We hired Dulce Día to capture our wedding announcement and engagement photos and video, and we couldn’t be happier with the experience. From the very beginning, they made us feel so comfortable in front of the camera. They were quick to respond, easy to work with, and genuinely took the time to get to know us. It was clear they understood who we are as a couple, and they beautifully captured our fun, playful, and loving relationship in both the photos and the video. We’ll cherish these memories.</p>
            </div>
          </div>

          <div class="testimonial reverse">
            <div class="t-copy">
              <div class="eyebrow serif reveal">Client Story</div>
              <h3 class="serif reveal">Chris &amp; Dani</h3>
              <blockquote class="reveal">“We absolutely love our video—it’s the cutest, most amazing thing we’ve ever seen! Dani was crying watching it, and it truly means so much to us. You captured our love perfectly, and we’re so grateful for the time and care you put into making it so special. We couldn’t be happier.”</blockquote>
              <p class="body reveal">Because your wedding isn’t the only Dulce Día… Maternity, family, and all the milestones in between — we capture them in photo and video, so every sweet chapter gets the spotlight it deserves.</p>
            </div>
            <div class="t-media ratio-9x16 reveal" aria-label="Chris &amp; Dani">
              <div
                class="embed"
                data-provider="vimeo"
                data-id="1114311102"
                data-aspect="9x16"
                role="button" aria-label="Play Testimonial video (9:16)" tabindex="0">
                <img class="thumb" src="/assets/tn_3.jpg" alt="Play Chris &amp; Dani Testimonial video" />
                <div class="playbtn" aria-hidden="true">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round">
                    <polygon points="9,7 19,12 9,17" fill="currentColor"></polygon>
                  </svg>
                  <span>Play</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- PROPOSALS & ENGAGEMENTS (parallax) -->
    <section id="proposals" class="section bg-photo" aria-label="Proposals & Engagements" data-parallax data-speed="0.20" style="background-image:url('/assets/bg_3.jpg');">
      <div class="wrap glass-panel" data-glass>
        <h2 class="serif reveal">PROPOSALS &amp; ENGAGEMENTS</h2>
        <div class="rule reveal" aria-hidden="true"></div>
        <div class="grid grid-3">
          <div class="reveal">
            <p>Make the moment unforgettable with a cinematic keepsake tailored to your plans.</p>
          </div>
          <div class="reveal">
            <p>Packages start at <strong>$300–$500</strong> and include a <strong>1–2 minute highlight film</strong> that captures the surprise, the joy, and the details that matter.</p>
          </div>
          <div class="reveal">
            <p><em>Optional:</em> Add a dedicated photographer for <strong>$300–$500</strong> depending on hours booked. <a href="#contact" class="btn" style="margin-top:6px">Request Details</a></p>
          </div>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="section" aria-label="Contact">
      <div class="wrap">
        <h2 class="serif reveal">Inquire</h2>
        <div class="rule reveal" aria-hidden="true"></div>

        <div class="contact-shell reveal">
          <div class="contact-grid">
            <div class="contact-copy">
              <h3 class="serif">Let’s make your day cinematic</h3>
              <p class="sub">Have questions, want to check your date, or ready to get booked? We’d love to hear what you’re dreaming up.</p>

              <div class="contact-points">
                <div class="row">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true"><path d="M20 7l-8 10L4 12"/></svg>
                  <p>Share your wedding date &amp; location, what matters most, and any must-have moments.</p>
                </div>
                <div class="row">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true"><path d="M12 1v22M1 12h22"/></svg>
                  <p>Curious about proposals or engagement shoots? Ask away — we’ll tailor options for you.</p>
                </div>
                <div class="row">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true"><path d="M3 5h18M3 12h18M3 19h18"/></svg>
                  <p>Prefer DMs? Tap our social tags — we respond fast there, too.</p>
                </div>
              </div>

              <div class="chip-row" aria-label="Social quick links">
                <a class="chip" href="https://instagram.com/dulcediacine" target="_blank" rel="noopener" aria-label="Instagram">
                  <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true">
                    <rect x="3" y="3" width="18" height="18" rx="5"></rect><circle cx="12" cy="12" r="4.2"></circle><circle cx="17.5" cy="6.5" r="1"></circle>
                  </svg>
                  <span>@dulcediacine</span>
                </a>
                <a class="chip" href="https://www.tiktok.com/@dulcediacine" target="_blank" rel="noopener" aria-label="TikTok">
                  <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" aria-hidden="true"><path d="M14 3c.3 2.1 1.6 3.8 3.7 4.4A7 7 0 0 0 18 5.1v3.2a9 9 0 0 1-4-1.3v6.5a5 5 0 1 1-5.6-4.9v2.7a2.2 2.2 0 1 0 1.6 2.1V3h3z"/></svg>
                  <span>@dulcediacine</span>
                </a>
                <a class="chip" href="https://www.facebook.com/profile.php?id=61578925093961" target="_blank" rel="noopener" aria-label="Facebook">
                  <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" aria-hidden="true"><path d="M13 9h3V6h-3c-1.7 0-3 1.3-3 3v2H8v3h2v7h3v-7h2.6l .4-3H13V9z"/></svg>
                  <span>Facebook</span>
                </a>
              </div>

              <p class="fineprint">We typically reply within 24 hours. If you don’t see a response, check your spam or send us a DM.</p>
            </div>

            <form name="inquire" method="POST" data-netlify="true" netlify-honeypot="bot-field" action="/thanks.html" class="grid" style="max-width:720px">
              <input type="hidden" name="form-name" value="inquire" />
              <p class="sr-only"><label>Don’t fill this out if you’re human: <input name="bot-field" /></label></p>
              <input name="name" aria-label="Name" placeholder="Name" required />
              <input name="email" aria-label="Email" placeholder="Email" type="email" required />
              <input name="date" aria-label="Date" placeholder="Wedding Date" type="text" />
              <textarea name="message" aria-label="Message" placeholder="Tell us about your day, priorities, and any questions" rows="5"></textarea>
              <button class="btn" type="submit">Send</button>
            </form>
          </div>
        </div>
      </div>
    </section>
  </main>

  <div class="socials" aria-label="Follow Dulce Día Cine">
    <a href="https://instagram.com/dulcediacine" target="_blank" rel="noopener" aria-label="Instagram">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true">
        <rect x="3" y="3" width="18" height="18" rx="5"></rect>
        <circle cx="12" cy="12" r="4.2"></circle>
        <circle cx="17.5" cy="6.5" r="1"></circle>
      </svg>
      <span>@dulcediacine</span>
    </a>
    <a href="https://www.tiktok.com/@dulcediacine" target="_blank" rel="noopener" aria-label="TikTok">
      <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M14 3c.3 2.1 1.6 3.8 3.7 4.4A7 7 0 0 0 18 5.1v3.2a9 9 0 0 1-4-1.3v6.5a5 5 0 1 1-5.6-4.9v2.7a2.2 2.2 0 1 0 1.6 2.1V3h3z"/>
      </svg>
      <span>@dulcediacine</span>
    </a>
    <a href="https://www.facebook.com/profile.php?id=61578925093961" target="_blank" rel="noopener" aria-label="Facebook">
      <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M13 9h3V6h-3c-1.7 0-3 1.3-3 3v2H8v3h2v7h3v-7h2.6l .4-3H13V9z"/>
      </svg>
      <span>Facebook</span>
    </a>
  </div>

  <footer role="contentinfo">
    <div class="wrap">
      <p class="sub">© <span id="year"></span> Dulce Día Cine • Southern California</p>
    </div>
  </footer>

  <script>
    document.body.classList.remove('no-js');

    // Year
    (function(){ var y = document.getElementById('year'); if(y) y.textContent = new Date().getFullYear(); })();

    // Inline SVG logo to currentColor
    (async function inlineLogo(){
      const container = document.querySelector('.brand-logo');
      const pngFallback = container.querySelector('.logo-fallback');
      try{
        const res = await fetch('/assets/logo_1.svg', {cache:'no-cache'});
        if(!res.ok) throw new Error('SVG fetch failed');
        const svgText = await res.text();
        const parser = new DOMParser();
        const doc = parser.parseFromString(svgText, 'image/svg+xml');
        const svg = doc.querySelector('svg');
        if(!svg) throw new Error('No <svg> found');
        svg.setAttribute('class','logo-inline');
        svg.removeAttribute('width'); svg.removeAttribute('height');
        svg.setAttribute('preserveAspectRatio', svg.getAttribute('preserveAspectRatio') || 'xMidYMid meet');
        const WALK = (node)=>{
          if(node.nodeType!==1) return;
          const el = node;
          const fill = (el.getAttribute('fill')||'').trim().toLowerCase();
          const stroke = (el.getAttribute('stroke')||'').trim().toLowerCase();
          const isNone = v => v==='none' || v==='transparent' || v.startsWith('url(');
          if(!fill || (!isNone(fill) && fill !== 'currentcolor')) el.setAttribute('fill','currentColor');
          if(stroke && !isNone(stroke) && stroke !== 'currentcolor') el.setAttribute('stroke','currentColor');
          const style = el.getAttribute('style');
          if(style){
            const cleaned = style
              .replace(/fill\s*:\s*[^;]+/gi,'fill:currentColor')
              .replace(/stroke\s*:\s*[^;]+/gi,'stroke:currentColor');
            el.setAttribute('style', cleaned);
          }
          Array.from(el.children).forEach(WALK);
        };
        WALK(svg);
        container.insertBefore(svg, pngFallback);
        if(pngFallback) pngFallback.style.display = 'none';
      }catch(err){
        if(pngFallback) pngFallback.style.display = 'block';
      }
    })();

    // Mobile menu
    (function(){
      const btn = document.getElementById('menuBtn');
      const nav = document.getElementById('navLinks');
      if(!btn || !nav) return;
      btn.addEventListener('click', () =>{
        const open = nav.classList.toggle('open');
        btn.setAttribute('aria-expanded', open ? 'true' : 'false');
      });
      nav.addEventListener('click', (e) =>{
        if(e.target.tagName === 'A' && nav.classList.contains('open')){
          nav.classList.remove('open'); btn.setAttribute('aria-expanded','false');
        }
      });
    })();

    // Header contrast swap based on hero
    (function(){
      const header = document.getElementById('siteHeader');
      const hero = document.getElementById('home');
      if(!header || !hero) return;
      const update = () => {
        const heroBottom = hero.getBoundingClientRect().bottom;
        if (heroBottom <= 72) header.classList.add('is-solid');
        else header.classList.remove('is-solid');
      };
      update();
      window.addEventListener('scroll', update, { passive:true });
      window.addEventListener('resize', update);
    })();

    // Reveal animation
    (function(){
      const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const items = Array.from(document.querySelectorAll('.reveal'));
      items.forEach(el => el.classList.add('js-init'));
      if (prefersReduced || !('IntersectionObserver' in window)) { items.forEach(el => el.classList.add('is-revealed')); return; }
      const io = new IntersectionObserver((entries) =>{
        entries.forEach(entry=>{
          if(entry.isIntersecting){ entry.target.classList.add('is-revealed'); io.unobserve(entry.target); }
        });
      }, {root:null, rootMargin:'0px 0px -10% 0px', threshold:0.1});
      items.forEach((el, i)=>{ el.style.transitionDelay = el.style.transitionDelay || (Math.min(i*60,360)+'ms'); io.observe(el); });
    })();

    // ---------- Auto-discover + randomize gallery ----------
    // Drop files at /assets/gallery/ as 1.jpg, 2.jpg, 3.webp, etc.
    // No code changes needed when you add more.
    async function buildRandomGallery() {
      const track = document.getElementById('folioTrack');
      if (!track) return;

      const MAX_TRY = 200;               // generous ceiling; bump if you ever exceed it
      const EXTS = ['jpg','jpeg','webp','png'];
      const base = '/assets/gallery/';
      const found = [];

      // Probe sequential numbers, accepting any supported extension
      for (let i = 1; i <= MAX_TRY; i++) {
        let match = null;
        for (const ext of EXTS) {
          const url = `${base}${i}.${ext}`;
          try {
            const res = await fetch(url, { method: 'HEAD', cache: 'no-cache' });
            if (res.ok) { match = url; break; }
          } catch (_) {}
        }
        if (match) found.push({ src: match, alt: `Portfolio still ${i}` });
      }

      // If nothing found, bail gracefully
      if (!found.length) {
        track.innerHTML = '<li class="slide"><figure class="card" style="display:grid;place-items:center;color:#999;background:#faf9f6"><figcaption style="padding:24px;text-align:center">Add images to <code>/assets/gallery/</code> as <code>1.jpg</code>, <code>2.jpg</code>, …</figcaption></figure></li>';
        document.dispatchEvent(new CustomEvent('gallery:ready'));
        return;
      }

      // Fisher–Yates shuffle for new order each load
      for (let i = found.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [found[i], found[j]] = [found[j], found[i]];
      }

      // Render slides
      const frag = document.createDocumentFragment();
      for (const img of found) {
        const li = document.createElement('li');
        li.className = 'slide';
        li.innerHTML = `
          <figure class="card">
            <img src="${img.src}" alt="${img.alt}" loading="lazy" decoding="async"/>
          </figure>`;
        frag.appendChild(li);
      }
      track.innerHTML = '';
      track.appendChild(frag);

      // Signal downstream code that slides are ready
      document.dispatchEvent(new CustomEvent('gallery:ready'));
    }

    // ---------- Portfolio scroller behavior ----------
    function initPortfolioScroller(){
      const vp = document.getElementById('folioVP');
      const track = document.getElementById('folioTrack');
      const prev = document.getElementById('folioPrev');
      const next = document.getElementById('folioNext');
      if(!vp || !track) return;

      let isDown = false, startX = 0, startScroll = 0;
      vp.addEventListener('pointerdown', (e)=>{ isDown = true; vp.setPointerCapture(e.pointerId); startX = e.clientX; startScroll = vp.scrollLeft; });
      vp.addEventListener('pointermove', (e)=>{ if(!isDown) return; const dx = e.clientX - startX; vp.scrollLeft = startScroll - dx; });
      ['pointerup','pointercancel','pointerleave'].forEach(ev=>vp.addEventListener(ev, ()=>{ isDown=false; }));

      function step(dir){
        const slide = track.querySelector('.slide');
        const slideW = slide ? slide.getBoundingClientRect().width : 300;
        vp.scrollBy({ left: dir * (slideW + 16), behavior:'smooth' });
      }
      if(prev) prev.addEventListener('click', ()=>step(-1));
      if(next) next.addEventListener('click', ()=>step(1));

      vp.addEventListener('keydown', (e)=>{
        if(e.key === 'ArrowRight'){ e.preventDefault(); step(1); }
        if(e.key === 'ArrowLeft'){ e.preventDefault(); step(-1); }
      });

      const slides = () => Array.from(track.children);

      function updateActive(){
        const vpRect = vp.getBoundingClientRect();
        const center = vpRect.left + vpRect.width/2;
        slides().forEach(sl=>sl.classList.remove('is-active','is-near'));
        slides().forEach(sl=>{
          const r = sl.getBoundingClientRect();
          const c = r.left + r.width/2;
          const dist = Math.abs(c - center);
          if(dist < (vpRect.width * 0.18)) sl.classList.add('is-active');
          else if(dist < (vpRect.width * 0.32)) sl.classList.add('is-near');
        });
      }

      let rafId = null;
      function onScroll(){
        updateActive();
        if(rafId) cancelAnimationFrame(rafId);
        rafId = requestAnimationFrame(()=>{
          clearTimeout(onScroll._t);
          onScroll._t = setTimeout(()=>{
            const vpRect = vp.getBoundingClientRect();
            const center = vpRect.left + vpRect.width/2;
            let target = null, bestDist = Infinity;
            slides().forEach(sl=>{
              const r = sl.getBoundingClientRect();
              const c = r.left + r.width/2;
              const d = Math.abs(c - center);
              if(d < bestDist){ bestDist = d; target = sl; }
            });
            if(target){
              const r = target.getBoundingClientRect();
              const delta = (r.left + r.width/2) - center;
              vp.scrollBy({ left: delta, behavior:'smooth' });
            }
          }, 80);
        });
      }
      updateActive();
      vp.addEventListener('scroll', onScroll, { passive:true });
      window.addEventListener('resize', updateActive);
      if(document.fonts && document.fonts.ready){ document.fonts.ready.then(updateActive); }
    }

    // Kick off gallery, then init scroller when ready
    buildRandomGallery();
    document.addEventListener('gallery:ready', initPortfolioScroller, { once:true });

    // ABOUT video: fade-in when ready + pause on hover
    (function(){
      const video = document.getElementById('aboutVideo');
      if(!video) return;
      const reveal = () => video.classList.add('is-visible');
      if (video.readyState >= 2) { reveal(); }
      else { video.addEventListener('loadeddata', reveal, { once:true }); }
      if (window.matchMedia('(hover: hover)').matches) {
        video.addEventListener('mouseenter', () => { video.pause(); video.classList.add('paused'); });
        video.addEventListener('mouseleave', () => { video.play(); video.classList.remove('paused'); });
      }
    })();

    // Click-to-Play (YouTube)
    (function(){
      function ytUrl(id){
        return `https://www.youtube-nocookie.com/embed/${id}?autoplay=1&rel=0&modestbranding=1&playsinline=1`;
      }
      function mount(container){
        const id = container.getAttribute('data-id');
        if(!id) return;
        const aspect = (container.getAttribute('data-aspect')||'16x9').toLowerCase();
        const src = ytUrl(id);
        container.setAttribute('aria-busy','true');

        if(aspect === '4x5'){
          const box = document.createElement('div');
          box.className = 'yt-16x9';
          const iframe = document.createElement('iframe');
          iframe.src = src;
          iframe.setAttribute('title','YouTube video');
          iframe.setAttribute('allow','autoplay; fullscreen; picture-in-picture; clipboard-write');
          iframe.setAttribute('allowfullscreen','');
          iframe.setAttribute('loading','eager');
          iframe.setAttribute('referrerpolicy','no-referrer-when-downgrade');
          box.appendChild(iframe);
          container.innerHTML = '';
          container.appendChild(box);
        }else{
          const iframe = document.createElement('iframe');
          iframe.src = src;
          iframe.setAttribute('title','YouTube video');
          iframe.setAttribute('allow','autoplay; fullscreen; picture-in-picture; clipboard-write');
          iframe.setAttribute('allowfullscreen','');
          iframe.setAttribute('loading','eager');
          iframe.setAttribute('referrerpolicy','no-referrer-when-downgrade');
          Object.assign(iframe.style, { position:'absolute', inset:'0', width:'100%', height:'100%', border:'0' });
          container.innerHTML = '';
          container.appendChild(iframe);
        }

        container.removeAttribute('role');
        container.removeAttribute('tabindex');
        container.setAttribute('aria-busy','false');
      }
      document.querySelectorAll('.embed[data-provider="youtube"]').forEach(box=>{
        const activate = (e)=>{ e.preventDefault(); mount(box); };
        box.addEventListener('click', activate);
        box.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' '){ activate(e); }});
      });
    })();

    // Click-to-Play (Vimeo)
    (function(){
      function vimeoUrl(id){
        return `https://player.vimeo.com/video/${id}?autoplay=1&title=0&byline=0&portrait=0&playsinline=1`;
      }
      function mountVimeo(container){
        const id = container.getAttribute('data-id');
        if(!id) return;
        const aspect = (container.getAttribute('data-aspect')||'16x9').toLowerCase();
        const src = vimeoUrl(id);
        container.setAttribute('aria-busy','true');
        if(aspect === '4x5'){
          const box = document.createElement('div');
          box.className = 'yt-16x9';
          const iframe = document.createElement('iframe');
          iframe.src = src;
          iframe.setAttribute('title','Vimeo video');
          iframe.setAttribute('allow','autoplay; fullscreen; picture-in-picture');
          iframe.setAttribute('allowfullscreen','');
          iframe.setAttribute('loading','eager');
          iframe.setAttribute('referrerpolicy','no-referrer-when-downgrade');
          box.appendChild(iframe);
          container.innerHTML = '';
          container.appendChild(box);
        } else {
          const iframe = document.createElement('iframe');
          iframe.src = src;
          iframe.setAttribute('title','Vimeo video');
          iframe.setAttribute('allow','autoplay; fullscreen; picture-in-picture');
          iframe.setAttribute('allowfullscreen','');
          iframe.setAttribute('loading','eager');
          iframe.setAttribute('referrerpolicy','no-referrer-when-downgrade');
          Object.assign(iframe.style, { position:'absolute', inset:'0', width:'100%', height:'100%', border:'0' });
          container.innerHTML = '';
          container.appendChild(iframe);
        }
        container.removeAttribute('role');
        container.removeAttribute('tabindex');
        container.setAttribute('aria-busy','false');
      }
      document.querySelectorAll('.embed[data-provider="vimeo"]').forEach(box=>{
        const activate = (e)=>{ e.preventDefault(); mountVimeo(box); };
        box.addEventListener('click', activate);
        box.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' '){ activate(e); }});
      });
    })();

    // Custom cursor
    (function(){
      const c = document.getElementById('cursor'); if(!c) return;
      let x = innerWidth/2, y = innerHeight/2, tx = x, ty = y;
      const lerp = (a,b,t)=>a+(b-a)*t;

      function move(e){ tx = e.clientX; ty = e.clientY; c.classList.remove('is-hidden'); }
      function loop(){ x = lerp(x, tx, 0.22); y = lerp(y, ty, 0.22); c.style.transform = `translate3d(${x}px, ${y}px, 0)`; requestAnimationFrame(loop); }
      function onEnter(){ c.classList.add('is-link'); }
      function onLeave(){ c.classList.remove('is-link'); }

      document.addEventListener('mousemove', move, {passive:true});
      document.addEventListener('mouseenter', ()=>c.classList.remove('is-hidden'));
      document.addEventListener('mouseleave', ()=>c.classList.add('is-hidden'));

      const INTERACTIVE = 'a, button, .btn, [role="button"], input, textarea, select, .folio-arrow, .embed';
      document.querySelectorAll(INTERACTIVE)
        .forEach(el=>{
          el.addEventListener('mouseenter', onEnter);
          el.addEventListener('mouseleave', onLeave);
          el.addEventListener('focus', onEnter);
          el.addEventListener('blur', onLeave);
        });

      loop();
    })();

    // Parallax + Glass
    (function(){
      const sections = Array.from(document.querySelectorAll('[data-parallax]'));
      if(!sections.length) return;

      let useJsParallax = window.matchMedia('(max-width:980px)').matches;
      let ticking = false;

      function update(){
        ticking = false;
        const viewportH = window.innerHeight || document.documentElement.clientHeight;

        sections.forEach(sec=>{
          const speed = parseFloat(sec.getAttribute('data-speed')) || 0.2;
          const rect = sec.getBoundingClientRect();
          const offsetTop = rect.top + window.scrollY;
          const scrolled = window.scrollY - (offsetTop - viewportH);
          if(useJsParallax){
            const y = Math.round(scrolled * speed * 0.5);
            sec.style.backgroundPosition = `center ${y}px`;
          }else{
            sec.style.backgroundPosition = 'center 0px';
          }
        });
      }

      function onScroll(){
        if(!ticking){ requestAnimationFrame(update); ticking = true; }
      }

      function onResize(){
        useJsParallax = window.matchMedia('(max-width:980px)').matches;
        update();
      }

      window.addEventListener('scroll', onScroll, {passive:true});
      window.addEventListener('resize', onResize, {passive:true});
      update();

      const glassEls = Array.from(document.querySelectorAll('[data-glass]'));
      if('IntersectionObserver' in window && glassEls.length){
        const io = new IntersectionObserver((entries)=>{
          entries.forEach(entry=>{
            const ratio = Math.max(0, Math.min(1, entry.intersectionRatio));
            const min = parseFloat(getComputedStyle(entry.target).getPropertyValue('--glass-min')) || 0.22;
            const max = parseFloat(getComputedStyle(entry.target).getPropertyValue('--glass-max')) || 0.55;
            const val = (min + (max - min) * (0.4 + 0.6 * ratio)).toFixed(3);
            entry.target.style.setProperty('--glassA', val);
          });
        }, { threshold: [0, .25, .5, .75, 1]});
        glassEls.forEach(el=>io.observe(el));
      }
    })();
  </script>
</body>
</html>
